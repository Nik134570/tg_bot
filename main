import telebot
from telebot import types # –¥–ª—è —É–∫–∞–∑–∞–Ω–∏–µ —Ç–∏–ø–æ–≤
cto_ti = 0
login = 0
parol = 0
user_pred = ""
parolchik = ""
user = ""
login_vvod = 0
parol_vvod = 0
based = []
user_parol = ""
registr = 0

bot = telebot.TeleBot('5145120712:AAHG4P6mA1SKhD-xtFbFXkb1vFvm1ew7iUY')

@bot.message_handler(commands=[''])
def start(message):
    markup = types.ReplyKeyboardMarkup(resize_keyboard=True)
    btn1 = types.KeyboardButton("–ö—Ç–æ —Ç—ã ‚ùì")
    markup.add(btn1)
    bot.send_message(message.chat.id, "–ü—Ä–∏–≤–µ—Ç", reply_markup=markup)

@bot.message_handler(commands=['start'])
def start(message):
    markup = types.ReplyKeyboardMarkup(resize_keyboard=True)
    btn1 = types.KeyboardButton("–ö—Ç–æ —Ç—ã ‚ùì")
    markup.add(btn1)
    bot.send_message(message.chat.id, f"–ü—Ä–∏–≤–µ—Ç user:{message.chat.id}", reply_markup=markup)
    
@bot.message_handler(content_types=['text'])
def func(message):
    global registr
    if registr == 0:
        global cto_ti, login, login_vvod, parol, parol_vvod
        if(message.text == "–ö—Ç–æ —Ç—ã ‚ùì"):
            cto_ti = 1
            markup = types.ReplyKeyboardMarkup(resize_keyboard=True)
            btn1 = types.KeyboardButton("–î–∞ üé≤")
            btn2 = types.KeyboardButton("–ù–µ—Ç ü•∫")
            markup.add(btn1, btn2)
            bot.send_message(message.chat.id, "–£ –º–µ–Ω—è –Ω–µ—Ç –∏–º–µ–Ω–∏", reply_markup=markup)
            bot.send_message(message.chat.id, "...", reply_markup=markup)
            bot.send_message(message.chat.id, "...", reply_markup=markup)
            bot.send_message(message.chat.id, "–ù–æ —è –º–Ω–æ–≥–æ —É–º–µ—é, –¥–∞–≤–∞–π –ø—Ä–∏—Å—Ç—É–ø–∏–º", reply_markup=markup)
            bot.send_message(message.chat.id, "...", reply_markup=markup)
            bot.send_message(message.chat.id, '–ï—Å–ª–∏ —Ç—ã –Ω–æ–≤–∏—á–æ–∫ –Ω–∞–∂–º–∏ "–Ω–∞—á–∞—Ç—å"', reply_markup=markup)
            bot.send_message(message.chat.id, '–ï—Å–ª–∏ –Ω–µ—Ç - "–ø—Ä–æ–¥–æ–ª–∂–∏—Ç—å"', reply_markup=markup)
            bot.send_message(message.chat.id, "...", reply_markup=markup)
            bot.send_message(message.chat.id, "–ì–æ—Ç–æ–≤ ?", reply_markup=markup)

        elif(message.text == "–î–∞ üé≤" and cto_ti == 1):
            cto_ti = 0
            markup = types.ReplyKeyboardMarkup(resize_keyboard=True)
            btn1 = types.KeyboardButton("–ù–∞—á–∞—Ç—å")
            btn2 = types.KeyboardButton("–ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å")
            markup.add(btn1, btn2)
            bot.send_message(message.chat.id, "–ö—Ä—É—Ç–æ, –ø—Ä–∏—Å—Ç—É–ø–∏–º", reply_markup=markup)
            bot.send_message(message.chat.id, "üçÄ", reply_markup=markup)

        elif(message.text == "–ù–µ—Ç ü•∫" and cto_ti == 1):
            markup = types.ReplyKeyboardMarkup(resize_keyboard=True)
            btn1 = types.KeyboardButton("–î–∞ üé≤")
            btn2 = types.KeyboardButton("–ù–µ—Ç ü•∫")
            markup.add(btn1, btn2)
            bot.send_message(message.chat.id, "–Ø –Ω–µ —Å–ø–µ—à—É)", reply_markup=markup)
            bot.send_message(message.chat.id, "–°–∫–∞–∂–∏ –∫–æ–≥–¥–∞ –±—É–¥–µ—à—å –≥–æ—Ç–æ–≤...", reply_markup=markup)
            bot.send_message(message.chat.id, "...", reply_markup=markup)
            bot.send_message(message.chat.id, "–ì–æ—Ç–æ–≤ ?", reply_markup=markup)

        elif message.text == "–ù–∞—á–∞—Ç—å" and login_vvod == 0:
            markup = types.ReplyKeyboardMarkup(resize_keyboard=True)
            btn1 = types.KeyboardButton("...")
            markup.add(btn1)
            bot.send_message(message.chat.id, text="–ü—Ä–∏–¥—É–º–∞–π—Ç–µ –ª–æ–≥–∏–Ω:", reply_markup=markup)
            login = 1

        elif login == 1:
            global user_pred
            user_pred = message.text
            login = 0
            markup = types.ReplyKeyboardMarkup(resize_keyboard=True)
            btn1 = types.KeyboardButton("–î–∞ üòê")
            btn2 = types.KeyboardButton("–ù–µ—Ç üò°")
            markup.add(btn1, btn2)
            bot.send_message(message.chat.id, f"–≤–∞—à –ª–æ–≥–∏–Ω: {user_pred} ?", reply_markup=markup)
        elif login == 0 and (message.text == "–î–∞ üòê") and login_vvod == 0:
            markup = types.ReplyKeyboardMarkup(resize_keyboard=True)
            btn1 = types.KeyboardButton("...")
            markup.add(btn1)
            global user
            user = user_pred
            login_vvod = 1
            bot.send_message(message.chat.id, "–∞ —Ç–µ–ø–µ—Ä—å –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å)", reply_markup=markup)
            bot.send_message(message.chat.id, text="–ü—Ä–∏–¥—É–º–∞–π—Ç–µ –ø–∞—Ä–æ–ª—å:", reply_markup=markup)
            parol = 1
        elif login_vvod == 0 and login == 0 and (message.text == "–ù–µ—Ç üò°"):
            markup = types.ReplyKeyboardMarkup(resize_keyboard=True)
            btn1 = types.KeyboardButton("...")
            markup.add(btn1)
            bot.send_message(message.chat.id, text="–£–ø—Å... –Ω–∞–≤–µ—Ä–Ω–æ–µ —ç—Ç–æ –º–æ—è –æ—à–∏–±–∫–∞, –ø–æ–ø—Ä–æ–±—É–π—Ç–µ –µ—â–µ —Ä–∞–∑", reply_markup=markup)
            bot.send_message(message.chat.id, text="–ù–∞–ø–∏—à–∏—Ç–µ –ø—Ä–∏–¥—É–º–∞–Ω–Ω—ã–π –ª–æ–≥–∏–Ω:", reply_markup=markup)
            login = 1
        elif parol == 1:
            global user_parol
            user_parol = message.text
            parol = 0
            markup = types.ReplyKeyboardMarkup(resize_keyboard=True)
            btn1 = types.KeyboardButton("–î–∞ ü§ñ")
            btn2 = types.KeyboardButton("–ù–µ—Ç üëø")
            markup.add(btn1, btn2)
            bot.send_message(message.chat.id, f"–≤–∞—à –ø–∞—Ä–æ–ª—å: {user_parol} ?", reply_markup=markup)
        elif parol == 0 and (message.text == "–î–∞ ü§ñ") and parol_vvod == 0:
            markup = types.ReplyKeyboardMarkup(resize_keyboard=True)
            btn1 = types.KeyboardButton("–ö—Ä—É—Ç–æ")
            markup.add(btn1)
            global parolchik
            parolchik = user_parol
            parol_vvod = 1
            bot.send_message(message.chat.id, f"–≤–∞—à –ª–æ–≥–∏–Ω: {user}", reply_markup=markup)
            bot.send_message(message.chat.id, f"–≤–∞—à –ø–∞—Ä–æ–ª—å: {parolchik}", reply_markup=markup)
            bot.send_message(message.chat.id, text="–≤—ã —É—Å–ø–µ—à–Ω–æ –≤–Ω–µ—Å–µ–Ω–Ω—ã –≤ –±–∞–∑—É)", reply_markup=markup)
            registr = 1
        elif parol_vvod == 0 and parol == 0 and (message.text == "–ù–µ—Ç üëø"):
            markup = types.ReplyKeyboardMarkup(resize_keyboard=True)
            btn1 = types.KeyboardButton("...")
            markup.add(btn1)
            bot.send_message(message.chat.id, text="–£–ø—Å... –Ω–∞–≤–µ—Ä–Ω–æ–µ —ç—Ç–æ –º–æ—è –æ—à–∏–±–∫–∞, –ø–æ–ø—Ä–æ–±—É–π—Ç–µ –µ—â–µ —Ä–∞–∑", reply_markup=markup)
            bot.send_message(message.chat.id, text="–ù–∞–ø–∏—à–∏—Ç–µ –ø—Ä–∏–¥—É–º–∞–Ω–Ω—ã–π –ø–∞—Ä–æ–ª—å:", reply_markup=markup)
            parol = 1
        else:
            bot.send_message(message.chat.id, text="–ù–∞ —Ç–∞–∫—É—é –∫–æ–º–º–∞–Ω–¥—É —è –Ω–µ –∑–∞–ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–ª..")
    else:
        if message.text == "–ö—Ä—É—Ç–æ":
            markup = types.ReplyKeyboardMarkup(resize_keyboard=True)
            btn1 = types.KeyboardButton("go")
            btn2 = types.KeyboardButton("stop")
            markup.add(btn1, btn2)
            bot.send_message(message.chat.id, "–û—Ç–ª–∏—á–Ω–æ üëë", reply_markup=markup)
            bot.send_message(message.chat.id, "–ü–æ—Ä–∞ –±—ã —É–∂–µ –Ω–∞—á–∏–Ω–∞—Ç—å üëë", reply_markup=markup)
        else:
            bot.send_message(message.chat.id, text="–ù–∞ —Ç–∞–∫—É—é –∫–æ–º–º–∞–Ω–¥—É —è –Ω–µ –∑–∞–ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–ª..")



bot.polling(none_stop=True)
